/**
 * (c) 2013-2015 Nive GmbH - www.nive.co
 * 
 * jq-nive v0.7.1
 * http://www.nive.co
 * 
 * License: MIT
 */
"use strict";window.nive=window.nive||{},nive.endpoint=nive.endpoint||{},function(){nive.endpoint.apiUrl=function(n){return n=n||{},nive.endpoint.__makeUrl(n,!0)},nive.endpoint.widgetUrl=function(n){return n=n||{},n.version="widgets",nive.endpoint.__makeUrl(n)},nive.endpoint.EndpointException=function(n){this.message=n,this.name="EndpointException"},nive.endpoint.__makeUrl=function(n){n=n||{};var e=".nive.io",i="http://127.0.0.1:5556",t="__domain",o="__proxy",r=n.protocol||document.location.protocol;n.secure?r="https:":r.indexOf(":")!=r.length-1&&(r+=":");var d=n.domain||"";d&&(d=-1==d.indexOf(".")?d+e:d);var a=n.version||"api",p=n.method,v=n.outpost||i,l=0==window.location.href.indexOf(v)?9:0,s=n.path;if(s){if(0==s.indexOf("./")||0==s.indexOf("../"))return s.lastIndexOf("/")!=s.length-1&&(s+="/"),s+p;0==s.indexOf("/")&&(s=s.substr(1,s.length)),s.lastIndexOf("/")==s.length-1&&(s=s.substr(0,s.length-1))}if(!n.name&&!n.relative)throw"Invalid service name";var f=n.name||"",c="";if(9==l){if(""==f)throw"Service name required in development mode";""==d&&(d=t),c=v+"/"+o+"/"+d}else d&&(c=r+"//"+d);return c+="/"+f,a&&(c+="/"+a),s&&(c+="/"+s),p&&(c+="/"+p),c}}();